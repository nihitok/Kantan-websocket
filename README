see http://nihitok.blogspot.com/2011/08/rubygemem-websocketwebsocket.html